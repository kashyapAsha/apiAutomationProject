package com.apiTesting.base;

import java.io.File;
import java.io.FileInputStream;
import java.io.InputStream;
import java.util.Properties;

import org.apache.log4j.Logger;
import org.testng.annotations.AfterSuite;
import org.testng.annotations.BeforeSuite;
import org.testng.annotations.Listeners;

import com.apiTesting.Listner.ExtentListner;
import com.apiTesting.Listner.ExtentManager;







@Listeners(ExtentListner.class)
public class Base extends ExtentListner {
	public static Logger LOGGER = Logger.getLogger(Base.class);
	static String workingDir = System.getProperty("user.dir");
	static Properties prop = null;
	static InputStream input = null;
	FileInputStream file = null;
	static String pathToPropertyFolder = workingDir + File.separator + "src" + File.separator + "test" + File.separator
			+ "resources" + File.separator + "property"+File.separator ;
	static String configData = pathToPropertyFolder + "config.properties";
	
	public static String readFromPropertyFile(String key) {
		try {
			prop = new Properties();
			input = new FileInputStream(configData);
			prop.load(input);
		} catch (Exception e) {
			//logger.info("Unable to read file : " + appsetUpData);
		}
		return prop.getProperty(key);
	}
	
	@BeforeSuite
	 public  void BeforeSuite() {
	  ExtentManager.setExtent();
	 }
	 
	 @AfterSuite
	 public void AfterSuite() {
	  ExtentManager.endReport();
	 }

	
	

}
